{"ast":null,"code":"var _jsxFileName = \"/Users/james/iCloud Drive (Archive)/Documents/Code/fin-app/frontend/src/components/Footer.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nexport class Footer extends Component {\n  constructor() {\n    super();\n\n    this.goToStock = stonk => {\n      stonk = stonk.substring(0, stonk.indexOf(\" \"));\n      document.getElementById(\"nav-search\").value = stonk;\n      document.getElementById(\"submit_button\").click();\n    };\n\n    this.state = {\n      formattedStocks: [],\n      stockColors: []\n    };\n  }\n\n  componentDidMount() {\n    let stocks = [];\n    let buffer = \"\"; //Formating layout to display watchlist with.\n\n    this.props.watchlists.watchlists[0].stocks.forEach(stock => {\n      fetch('https://finnhub.io/api/v1/quote?symbol=' + stock + '&token=brain17rh5rbgnjpuck0').then(res => res.json()).then(data => {\n        let change = (data.c - data.pc).toFixed(2);\n        buffer = stock + \" | $\" + data.c.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \" \" + (change > 0 ? \"+\" + change : change);\n        change > 0 ? stocks.push(buffer + \";watchlist_item_green\") : stocks.push(buffer + \";watchlist_item_red\");\n        this.setState({\n          formattedStocks: stocks\n        });\n      });\n    });\n  }\n  /**\n  * Takes input, navigates to that specific stocks page. Hides the selection menu\n  */\n\n\n  render() {\n    console.log(this.state.formattedStocks);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"watchlist_bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, this.state.formattedStocks.map(stock => /*#__PURE__*/React.createElement(\"div\", {\n      id: stock.substring(stock.indexOf(\";\") + 1, stock.length),\n      onClick: this.goToStock.bind(this, stock),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 58\n      }\n    }, stock.substring(0, stock.indexOf(\";\")))));\n  }\n\n}\nFooter.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  watchlists: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  user: state.user,\n  errors: state.errors,\n  watchlists: state.watchlists\n});\n\nexport default connect(mapStateToProps)(withRouter(Footer));","map":{"version":3,"sources":["/Users/james/iCloud Drive (Archive)/Documents/Code/fin-app/frontend/src/components/Footer.js"],"names":["React","Component","PropTypes","connect","withRouter","Footer","constructor","goToStock","stonk","substring","indexOf","document","getElementById","value","click","state","formattedStocks","stockColors","componentDidMount","stocks","buffer","props","watchlists","forEach","stock","fetch","then","res","json","data","change","c","pc","toFixed","toString","replace","push","setState","render","console","log","map","length","bind","propTypes","auth","object","isRequired","errors","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter} from 'react-router-dom';\n\nexport class Footer extends Component{\n    constructor(){\n        super()\n        this.state = {\n            formattedStocks: [],\n            stockColors: []\n        }\n    }\n\n    componentDidMount(){\n        let stocks = []\n        let buffer = \"\"\n        //Formating layout to display watchlist with.\n        this.props.watchlists.watchlists[0].stocks.forEach(stock => {\n            fetch('https://finnhub.io/api/v1/quote?symbol=' + stock + '&token=brain17rh5rbgnjpuck0')\n                .then(res => res.json())\n                .then(data => {\n                    let change = (data.c - data.pc).toFixed(2)\n                    buffer = stock + \" | $\" + data.c.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \" \" + (change > 0? \"+\" + change: change)\n                    change > 0? stocks.push(buffer + \";watchlist_item_green\"): stocks.push(buffer + \";watchlist_item_red\")\n                    this.setState({formattedStocks: stocks})\n                })\n        })  \n    }\n\n     /**\n   * Takes input, navigates to that specific stocks page. Hides the selection menu\n   */\n  goToStock = (stonk) =>{\n    stonk = stonk.substring(0, stonk.indexOf(\" \"))\n    document.getElementById(\"nav-search\").value = stonk\n    document.getElementById(\"submit_button\").click()\n  }\n\n    render(){\n        console.log(this.state.formattedStocks)\n        return(\n            <div id=\"watchlist_bar\">\n                {this.state.formattedStocks.map(stock => <div id={stock.substring(stock.indexOf(\";\")+1, stock.length)} onClick={this.goToStock.bind(this, stock)}>{stock.substring(0, stock.indexOf(\";\"))}</div>)}\n            </div>  \n        )\n    }\n}\n\nFooter.propTypes = {\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired,\n    watchlists: PropTypes.object.isRequired\n  };\n  \n  const mapStateToProps = state => ({\n    auth: state.auth, \n    user: state.user,\n    errors: state.errors,\n    watchlists: state.watchlists\n  });\n  \n  export default connect(mapStateToProps)(withRouter(Footer));"]},"metadata":{},"sourceType":"module"}