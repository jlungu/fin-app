{"ast":null,"code":"var _jsxFileName = \"/Users/james/iCloud Drive (Archive)/Documents/Code/fin-app/frontend/src/components/HomeComponent.js\";\nimport React, { Component } from \"react\";\nimport SearchBarComponent from \"./SearchBarComponent\";\nimport { Link } from 'react-router-dom';\nimport Spinner from \"react-bootstrap/Spinner\";\nexport class HomeComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.search = (e, ticker = null) => {\n      e ? e.preventDefault() : this.nothing();\n      var path = '';\n\n      if (ticker) {\n        path = \"/stock/\" + ticker;\n      } else {\n        path = \"/stock/\" + document.getElementById(\"main-searchbar\").value;\n      }\n\n      this.props.history.push(path);\n    };\n\n    this.focusInput = e => {\n      e.preventDefault();\n      this.setState({\n        searchFocused: true\n      });\n    };\n\n    this.clarifySearch = e => {\n      var oldStonks = this.state.stocks;\n      this.setState({\n        //Filtering so the stocks displayed match input.\n        filteringStocks: oldStonks.filter(s => s.includes(e.target.value.toUpperCase()))\n      });\n    };\n\n    this.nothing = () => {\n      /**\n       * WHAT DOES A HOUSE WEAR?\n       * ADDRESS\n       */\n    };\n\n    this.state = {\n      stocks: [],\n      filteringStocks: [],\n      searchFocused: false,\n      dowj: -1,\n      dowjOpen: -1,\n      standardPoor: -1,\n      standardPoorOpen: -1,\n      nasdaq: -1,\n      nasdaqOpen: -1\n    };\n  } //This function will actually navigate to that page.\n\n\n  componentDidMount() {\n    //This event listener dictates whether we are to show or hide the \"autocomplete\" menu.\n    document.addEventListener(\"click\", evt => {\n      if (evt.target != document.getElementById(\"main-searchbar\") && evt.target != document.getElementById(\"stock-option\") && evt.target != document.getElementById(\"stock-select-div\")) this.setState({\n        searchFocused: false\n      });\n    }); //Changing name of tab!\n\n    document.title = \"Stock App - A simple stock lookup tool\"; //On 'enter' key clicked, and if the text box is in focus, enter should SUBMIT...\n\n    fetch('https://finnhub.io/api/v1/stock/symbol?exchange=US&token=brain17rh5rbgnjpuck0').then(res => res.json()).then(data => {\n      console.log(data);\n      var stonks = [];\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].description.length > 0) stonks.push(data[i].symbol + \" - \" + data[i].description); //Just want ticker and name...\n      } //I would like to add some symbols.....common indicies\n      //^DJI, ^GSPC, ^IXIC, ^RUT\n\n\n      stonks.push('^DJI - DOW JONES INDUSTRIAL AVERAGE');\n      stonks.push('^GSPC - S&P 500');\n      stonks.push('^IXIC - NASDAQ COMPOSITE');\n      stonks.push('^RUT - RUSSELL 2000');\n      this.setState({\n        stocks: stonks,\n        filteringStocks: stonks\n      });\n    }); //THREE API CALLS for three quotes on the three major indicies; ^DJI, ^GSPC, ^IXIC\n\n    fetch('https://finnhub.io/api/v1/quote?symbol=^DJI&token=brain17rh5rbgnjpuck0').then(res => res.json()).then(data => {\n      // this.setState({\n      //   dowjPrevClose: data.pc,\n      //   dowj: data.c\n      // })\n      console.log(data);\n    }); //S&P\n\n    fetch('https://finnhub.io/api/v1/quote?symbol=^GSPC&token=brain17rh5rbgnjpuck0').then(res => res.json()).then(data => {\n      // this.setState({\n      //   standardPoorPrevClose: data.pc,\n      //   standardPoor: data.c\n      // })\n      console.log(data);\n    }); //NASDAQ\n\n    fetch('https://finnhub.io/api/v1/quote?symbol=^IXIC&token=brain17rh5rbgnjpuck0').then(res => res.json()).then(data => {\n      // this.setState({\n      //   nasdaqPrevClose: data.pc,\n      //   nasdaq: data.c\n      // })\n      console.log(data);\n    }); //WEBSOCKET - Subscribe to updates on DOWJ PRICING. Need to see real-time updates, WHEN ITS A TRADING DAY.\n\n    const socketDJI = new WebSocket(\"wss://ws.finnhub.io?token=brain17rh5rbgnjpuck0\"); // Connection opened -> Subscribe to DJI\n\n    socketDJI.addEventListener(\"open\", function (event) {\n      socketDJI.send(JSON.stringify({\n        type: \"subscribe\",\n        symbol: '^DJI'\n      }));\n    }); // Listen for messages\n\n    socketDJI.addEventListener(\"message\", event => {\n      var x = JSON.parse(event.data);\n      if (x.type != \"trade\") return;\n      this.setState({\n        dji: x.data[0].p\n      });\n    }); //WEBSOCKET - Subscribe to updates on S&P PRICING. Need to see real-time updates, WHEN ITS A TRADING DAY.\n\n    const socketSP = new WebSocket(\"wss://ws.finnhub.io?token=brain17rh5rbgnjpuck0\"); // Connection opened -> Subscribe to SANDP\n\n    socketSP.addEventListener(\"open\", function (event) {\n      socketSP.send(JSON.stringify({\n        type: \"subscribe\",\n        symbol: '^GSPC'\n      }));\n    }); // Listen for messages\n\n    socketSP.addEventListener(\"message\", event => {\n      var x = JSON.parse(event.data);\n      if (x.type != \"trade\") return;\n      this.setState({\n        standardPoor: x.data[0].p\n      });\n    }); //WEBSOCKET - Subscribe to updates on NASDAQ PRICING. Need to see real-time updates, WHEN ITS A TRADING DAY.\n\n    const socketNDAQ = new WebSocket(\"wss://ws.finnhub.io?token=brain17rh5rbgnjpuck0\"); // Connection opened -> Subscribe to NASDAQ\n\n    socketNDAQ.addEventListener(\"open\", function (event) {\n      socketNDAQ.send(JSON.stringify({\n        type: \"subscribe\",\n        symbol: '^IXIC'\n      }));\n    }); // Listen for messages\n\n    socketNDAQ.addEventListener(\"message\", event => {\n      var x = JSON.parse(event.data);\n      if (x.type != \"trade\") return;\n      this.setState({\n        nasdaq: x.data[0].p\n      });\n    });\n  } //Triggered when the input bar is focused, time to show all thew stonks.\n\n\n  /**\n   * Takes input, navigates to that specific stocks page. Hides the selection menu\n   */\n  searchLink(stonk) {\n    this.setState({\n      searchFocused: false\n    });\n    const path = \"/stock/\" + stonk.substring(0, stonk.indexOf(' '));\n    this.props.history.push(path);\n  }\n  /**\n   * Listen man. I just needed a function to do nothing, since it was giving me an\n   * error when i tried to not include a function in the search func conditional. SO, \n   * here it is. Its an easter egg, if you will\n   */\n\n\n  render() {\n    const title = \"<Finance App />\";\n    const green = {\n      color: 'green'\n    };\n    const red = {\n      color: 'red'\n    };\n    const gray = {\n      color: 'darkgray'\n    };\n    const pos = \"+\";\n    const neg = \"\"; //Negative sign is included with number, so no addition here\n\n    const {\n      dowj,\n      standardPoor,\n      nasdaq,\n      standardPoorPrevClose,\n      nasdaqPrevClose,\n      dowjPrevClose\n    } = this.state; //Changes...\n\n    var dowjChange = dowj - dowjPrevClose;\n    var standardPoorChange = standardPoor - standardPoorPrevClose;\n    var nasdaqChange = nasdaq - nasdaqPrevClose; //Selectives for border colors in bootstrap\n\n    const up = \"card border border-success front_card\";\n    const down = \"card border border-danger front_card\";\n    const same = \"card border border-light front_card\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"hd\",\n      class: \"home-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: standardPoorChange < 0 ? \"sandpdown\" : \"sandpup\",\n      class: standardPoorChange < 0 ? down : standardPoorChange > 0 ? up : same,\n      onClick: this.search.bind(this, null, \"^GSPC\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: standardPoorChange < 0 ? red : standardPoorChange > 0 ? green : gray,\n      class: \"card-body index_card_body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, \"S&P 500 |\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, standardPoor.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_change\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, \"| \", standardPoorChange > 0 ? pos : neg, standardPoorChange.toFixed(2).toString())))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: dowjChange < 0 ? \"dowjdown\" : \"dowjup\",\n      class: dowjChange < 0 ? down : dowjChange > 0 ? up : same,\n      onClick: this.search.bind(this, null, \"^DJI\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: dowjChange < 0 ? red : dowjChange > 0 ? green : gray,\n      class: \"card-body index_card_body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }\n    }, \"DOW J |\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, dowj.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_change\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }, \"| \", dowjChange > 0 ? pos : neg, dowjChange.toFixed(2))))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: nasdaqChange < 0 ? \"nasdaqdown\" : \"nasdaqup\",\n      class: nasdaqChange < 0 ? down : nasdaqChange > 0 ? up : same,\n      onClick: this.search.bind(this, null, \"^IXIC\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: nasdaqChange < 0 ? red : nasdaqChange > 0 ? green : gray,\n      class: \"card-body index_card_body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, \"NASDAQ |\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }, nasdaq.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"index_change\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 21\n      }\n    }, \"| \", nasdaqChange > 0 ? pos : neg, nasdaqChange.toFixed(2)))))), /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-money-check-alt front_icons_left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"page_header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }\n    }, title), /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-chart-area front_icons_right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      id: \"sub-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }\n    }, \"A simple stock look-up tool\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"input_home\",\n      class: \"input-group input-group-lg main-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"main-form\",\n      class: \"form-inline\",\n      onSubmit: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      id: \"notice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 15\n      }\n    }, \"**Please Note: Due to the fact that I am broke, I can only afford the free version of my stock api. As a result, I am limited to 30 API calls/min. If you load a page and no items load, give it a minute :)**\"), /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"off\",\n      id: \"main-searchbar\",\n      type: \"text\",\n      class: \"form-control\",\n      \"aria-label\": \"Large\",\n      \"aria-describedby\": \"inputGroup-sizing-lg\",\n      placeholder: \"Enter a Stock...\",\n      onFocus: this.focusInput,\n      onBlur: this.defocusInput,\n      onChange: this.clarifySearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"home-submit-btn\",\n      class: \"btn btn-outline-secondary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 15\n      }\n    }, \"search\")))), this.state.searchFocused ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"stock-select-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"stock-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, this.state.filteringStocks == [] ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 53\n      }\n    }) : this.state.filteringStocks.map((item, index) => /*#__PURE__*/React.createElement(\"li\", {\n      class: \"stock-option\",\n      onClick: this.searchLink.bind(this, item),\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }\n    }, item)))) : null));\n  }\n\n}\nexport default HomeComponent;","map":{"version":3,"sources":["/Users/james/iCloud Drive (Archive)/Documents/Code/fin-app/frontend/src/components/HomeComponent.js"],"names":["React","Component","SearchBarComponent","Link","Spinner","HomeComponent","constructor","props","search","e","ticker","preventDefault","nothing","path","document","getElementById","value","history","push","focusInput","setState","searchFocused","clarifySearch","oldStonks","state","stocks","filteringStocks","filter","s","includes","target","toUpperCase","dowj","dowjOpen","standardPoor","standardPoorOpen","nasdaq","nasdaqOpen","componentDidMount","addEventListener","evt","title","fetch","then","res","json","data","console","log","stonks","i","length","description","symbol","socketDJI","WebSocket","event","send","JSON","stringify","type","x","parse","dji","p","socketSP","socketNDAQ","searchLink","stonk","substring","indexOf","render","green","color","red","gray","pos","neg","standardPoorPrevClose","nasdaqPrevClose","dowjPrevClose","dowjChange","standardPoorChange","nasdaqChange","up","down","same","bind","toString","replace","toFixed","defocusInput","map","item","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchBarComponent from \"./SearchBarComponent\";\nimport {Link} from 'react-router-dom'\nimport Spinner from \"react-bootstrap/Spinner\";\n\nexport class HomeComponent extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      stocks: [],\n      filteringStocks: [],\n      searchFocused: false,\n      dowj: -1,\n      dowjOpen: -1,\n      standardPoor: -1,\n      standardPoorOpen: -1,\n      nasdaq: -1,\n      nasdaqOpen: -1\n    }\n  }\n  //This function will actually navigate to that page.\n  search = (e, ticker=null) => {\n    e? e.preventDefault(): this.nothing()\n    var path = ''\n    if (ticker){\n      path = \"/stock/\" + ticker;\n    }\n    else{\n      path = \"/stock/\" + document.getElementById(\"main-searchbar\").value;\n    }   \n    this.props.history.push(path);\n  };\n\n  componentDidMount() {\n    //This event listener dictates whether we are to show or hide the \"autocomplete\" menu.\n    document.addEventListener(\"click\", (evt) => {\n      if (evt.target != document.getElementById(\"main-searchbar\") \n      && evt.target != document.getElementById(\"stock-option\")\n      && evt.target != document.getElementById(\"stock-select-div\"))\n        this.setState({\n          searchFocused: false\n        })\n  });\n\n    //Changing name of tab!\n    document.title = \"Stock App - A simple stock lookup tool\"\n    //On 'enter' key clicked, and if the text box is in focus, enter should SUBMIT...\n    fetch('https://finnhub.io/api/v1/stock/symbol?exchange=US&token=brain17rh5rbgnjpuck0')\n    .then((res) => res.json())\n    .then((data) => {\n      console.log(data)\n      var stonks = []\n      for (let i = 0; i < data.length; i++){\n        if (data[i].description.length > 0)\n          stonks.push(data[i].symbol + \" - \" + data[i].description)//Just want ticker and name...\n      }\n      //I would like to add some symbols.....common indicies\n      //^DJI, ^GSPC, ^IXIC, ^RUT\n      stonks.push('^DJI - DOW JONES INDUSTRIAL AVERAGE')\n      stonks.push('^GSPC - S&P 500')\n      stonks.push('^IXIC - NASDAQ COMPOSITE')\n      stonks.push('^RUT - RUSSELL 2000')\n      this.setState({\n        stocks: stonks,\n        filteringStocks: stonks\n      })\n    })\n\n    //THREE API CALLS for three quotes on the three major indicies; ^DJI, ^GSPC, ^IXIC\n    fetch('https://finnhub.io/api/v1/quote?symbol=^DJI&token=brain17rh5rbgnjpuck0')\n    .then(res =>res.json())\n    .then(data => {\n      // this.setState({\n      //   dowjPrevClose: data.pc,\n      //   dowj: data.c\n      // })\n      console.log(data)\n    })\n    //S&P\n    fetch('https://finnhub.io/api/v1/quote?symbol=^GSPC&token=brain17rh5rbgnjpuck0')\n    .then(res =>res.json())\n    .then(data => {\n      // this.setState({\n      //   standardPoorPrevClose: data.pc,\n      //   standardPoor: data.c\n      // })\n      console.log(data)\n    })\n    //NASDAQ\n    fetch('https://finnhub.io/api/v1/quote?symbol=^IXIC&token=brain17rh5rbgnjpuck0')\n    .then(res =>res.json())\n    .then(data => {\n      // this.setState({\n      //   nasdaqPrevClose: data.pc,\n      //   nasdaq: data.c\n      // })\n      console.log(data)\n    })\n\n\n    //WEBSOCKET - Subscribe to updates on DOWJ PRICING. Need to see real-time updates, WHEN ITS A TRADING DAY.\n    const socketDJI = new WebSocket(\n      \"wss://ws.finnhub.io?token=brain17rh5rbgnjpuck0\"\n    );\n    // Connection opened -> Subscribe to DJI\n    socketDJI.addEventListener(\"open\", function (event) {\n      socketDJI.send(JSON.stringify({ type: \"subscribe\", symbol: '^DJI' }));\n    });\n\n    // Listen for messages\n    socketDJI.addEventListener(\"message\", (event) => {\n      var x = JSON.parse(event.data);\n      if (x.type != \"trade\") return;\n      this.setState({\n        dji: x.data[0].p,\n      });\n    });\n    //WEBSOCKET - Subscribe to updates on S&P PRICING. Need to see real-time updates, WHEN ITS A TRADING DAY.\n    const socketSP = new WebSocket(\n      \"wss://ws.finnhub.io?token=brain17rh5rbgnjpuck0\"\n    );\n    // Connection opened -> Subscribe to SANDP\n    socketSP.addEventListener(\"open\", function (event) {\n      socketSP.send(JSON.stringify({ type: \"subscribe\", symbol: '^GSPC' }));\n    });\n\n    // Listen for messages\n    socketSP.addEventListener(\"message\", (event) => {\n      var x = JSON.parse(event.data);\n      if (x.type != \"trade\") return;\n      this.setState({\n        standardPoor: x.data[0].p,\n      });\n    });\n\n    //WEBSOCKET - Subscribe to updates on NASDAQ PRICING. Need to see real-time updates, WHEN ITS A TRADING DAY.\n    const socketNDAQ = new WebSocket(\n      \"wss://ws.finnhub.io?token=brain17rh5rbgnjpuck0\"\n    );\n    // Connection opened -> Subscribe to NASDAQ\n    socketNDAQ.addEventListener(\"open\", function (event) {\n      socketNDAQ.send(JSON.stringify({ type: \"subscribe\", symbol: '^IXIC' }));\n    });\n\n    // Listen for messages\n    socketNDAQ.addEventListener(\"message\", (event) => {\n      var x = JSON.parse(event.data);\n      if (x.type != \"trade\") return;\n      this.setState({\n        nasdaq: x.data[0].p,\n      });\n    });\n\n  }\n\n  //Triggered when the input bar is focused, time to show all thew stonks.\n  focusInput = (e) => {\n    e.preventDefault();\n    this.setState({\n      searchFocused: true\n    })\n  }\n\n  //Triggered when defocusing input bar, hide all stocks.\n  // defocusInput = (event) => {\n  //   console.log(event.target)\n  //   this.setState({\n  //     searchFocused: false\n  //   })\n  // }\n\n  /**\n   * Every time search bar is modified, we must reflect change to show all\n   *  possible matches to the text\n   */\n  clarifySearch = (e) => {\n    var oldStonks = this.state.stocks\n    this.setState({\n      //Filtering so the stocks displayed match input.\n      filteringStocks: oldStonks.filter((s) => s.includes(e.target.value.toUpperCase()))\n    })\n  }\n\n  /**\n   * Takes input, navigates to that specific stocks page. Hides the selection menu\n   */\n  searchLink(stonk){\n    this.setState({\n      searchFocused: false\n    })\n    const path=\"/stock/\"+stonk.substring(0, stonk.indexOf(' '))\n    this.props.history.push(path)\n  }\n\n  /**\n   * Listen man. I just needed a function to do nothing, since it was giving me an\n   * error when i tried to not include a function in the search func conditional. SO, \n   * here it is. Its an easter egg, if you will\n   */\n  nothing = () => {\n    /**\n     * WHAT DOES A HOUSE WEAR?\n     * ADDRESS\n     */\n  }\n\n  render() {\n    const title = \"<Finance App />\"\n    const green = {\n      color: 'green'\n    }\n    const red = {\n      color: 'red'\n    }\n    const gray = {\n      color: 'darkgray'\n    }\n    const pos = \"+\"\n    const neg = \"\"//Negative sign is included with number, so no addition here\n    const {dowj, standardPoor, nasdaq, standardPoorPrevClose, nasdaqPrevClose, dowjPrevClose} = this.state;\n    //Changes...\n    var dowjChange = dowj - dowjPrevClose\n    var standardPoorChange = standardPoor - standardPoorPrevClose\n    var nasdaqChange = nasdaq - nasdaqPrevClose\n\n    //Selectives for border colors in bootstrap\n    const up = \"card border border-success front_card\"\n    const down = \"card border border-danger front_card\"\n    const same = \"card border border-light front_card\"\n\n\n    return (\n      <div id=\"hd\" class=\"home-div\">\n        <div class=\"row justify-content-md-center\">\n            <div class=\"col-sm-4\">\n              <div id={standardPoorChange < 0?\"sandpdown\" : \"sandpup\"} class={standardPoorChange < 0? down: standardPoorChange > 0? up: same}\n                    onClick={this.search.bind(this, null, \"^GSPC\")}>\n                  <div style={standardPoorChange < 0? red: standardPoorChange > 0? green: gray} class=\"card-body index_card_body\">\n                    <span class=\"index_name\">S&P 500 |</span>\n                    <span class=\"index_price\">{standardPoor.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} </span>\n                    <span class=\"index_change\">| {standardPoorChange > 0? pos: neg}{standardPoorChange.toFixed(2).toString()}</span>\n                  </div>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div id={dowjChange < 0?\"dowjdown\" : \"dowjup\"} class={dowjChange < 0? down: dowjChange > 0? up: same}\n                  onClick={this.search.bind(this, null, \"^DJI\")}>\n                  <div style={dowjChange < 0? red: dowjChange > 0? green: gray} class=\"card-body index_card_body\">\n                    <span class=\"index_name\">DOW J |</span>\n                    <span class=\"index_price\">{dowj.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} </span>\n                    <span class=\"index_change\">| {dowjChange > 0? pos: neg}{dowjChange.toFixed(2)}</span>\n                  </div>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div id={nasdaqChange < 0?\"nasdaqdown\": \"nasdaqup\"} class={nasdaqChange < 0? down: nasdaqChange > 0? up: same}\n                  onClick={this.search.bind(this, null, \"^IXIC\")}>\n                  <div style={nasdaqChange < 0? red: nasdaqChange > 0? green: gray} class=\"card-body index_card_body\">\n                    <span class=\"index_name\">NASDAQ |</span>\n                    <span class=\"index_price\">{nasdaq.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} </span>\n                    <span class=\"index_change\">| {nasdaqChange > 0? pos: neg}{nasdaqChange.toFixed(2)}</span>\n                  </div>\n              </div>\n            </div>\n          </div>\n        \n        <i class=\"fas fa-money-check-alt front_icons_left\"></i>\n        <h1 id=\"page_header\">{title}</h1>\n        <i class=\"fas fa-chart-area front_icons_right\"></i>\n        <h5 id=\"sub-header\">A simple stock look-up tool</h5>\n        <div id=\"input_home\" class=\"input-group input-group-lg main-search\">\n          <form id=\"main-form\" class=\"form-inline\" onSubmit={this.search}>\n            <div class=\"row\">\n              <i  id=\"notice\">**Please Note: Due to the fact that I am broke, I can only afford the free version of my stock api. As a result, I am limited to 30 API calls/min. If you load a page and no items load, give it a minute :)**</i>\n            <input\n              autoComplete=\"off\"\n              id=\"main-searchbar\"\n              type=\"text\"\n              class=\"form-control\"\n              aria-label=\"Large\"\n              aria-describedby=\"inputGroup-sizing-lg\"\n              placeholder=\"Enter a Stock...\"\n              onFocus={this.focusInput}\n              onBlur={this.defocusInput}\n              onChange={this.clarifySearch}\n            />\n              <button id=\"home-submit-btn\" class=\"btn btn-outline-secondary\" type=\"submit\">\n              <span class=\"material-icons\">search</span>\n              </button>\n            </div>\n          </form>\n          {this.state.searchFocused? \n          <div id=\"stock-select-div\">\n              <ul id=\"stock-list\">\n                {this.state.filteringStocks == [] ? <Spinner />: \n                  this.state.filteringStocks.map((item, index)  => (\n                    <li class=\"stock-option\" onClick={this.searchLink.bind(this, item)} key={index}>{item}</li>                \n                  ))\n                }\n              </ul>\n            </div>:\n            null}        \n        </div>\n      </div>\n    );\n  }\n}\nexport default HomeComponent;\n"]},"metadata":{},"sourceType":"module"}